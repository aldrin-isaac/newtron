{
  "version": "1.0",
  "super_users": ["neteng", "admin"],
  "user_groups": {
    "neteng": ["alice", "bob", "charlie"],
    "netops": ["diana", "eve"],
    "readonly": ["frank"]
  },
  "permissions": {
    "all": ["neteng"],
    "service.apply": ["neteng", "netops"],
    "service.remove": ["neteng"],
    "service.view": ["neteng", "netops", "readonly"],
    "interface.view": ["neteng", "netops", "readonly"],
    "lag.create": ["neteng"],
    "lag.modify": ["neteng", "netops"],
    "lag.view": ["neteng", "netops", "readonly"],
    "vlan.create": ["neteng"],
    "vlan.modify": ["neteng", "netops"],
    "vlan.view": ["neteng", "netops", "readonly"],
    "acl.modify": ["neteng"],
    "evpn.modify": ["neteng"],
    "baseline.apply": ["neteng"],
    "health.check": ["neteng", "netops", "readonly"],
    "audit.view": ["neteng", "netops"]
  },
  "zones": {
    "amer": {
      "as_number": 64512,
      "prefix_lists": {
        "amer-internal": ["10.10.0.0/16", "10.20.0.0/16"]
      }
    },
    "emea": {
      "as_number": 64513
    }
  },
  "prefix_lists": {
    "rfc1918": ["10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16"],
    "mgmt-servers": ["10.100.0.0/24", "10.100.1.0/24"],
    "bogons": ["0.0.0.0/8", "127.0.0.0/8", "224.0.0.0/4"],
    "ospf-multicast": ["224.0.0.5/32", "224.0.0.6/32"]
  },
  "filters": {
    "customer-edge-in": {
      "description": "Ingress filter for customer edge interfaces",
      "type": "ipv4",
      "rules": [
        {"seq": 100, "src_prefix_list": "bogons", "action": "deny", "log": true},
        {"seq": 200, "src_prefix_list": "rfc1918", "action": "deny"},
        {"seq": 9999, "action": "permit"}
      ]
    },
    "customer-edge-out": {
      "description": "Egress filter for customer edge interfaces",
      "type": "ipv4",
      "rules": [
        {"seq": 100, "dst_prefix_list": "mgmt-servers", "action": "deny"},
        {"seq": 9999, "action": "permit"}
      ]
    },
    "transit-protect": {
      "description": "Control plane protection for transit interfaces",
      "type": "ipv4",
      "rules": [
        {"seq": 100, "protocol": "vrrp", "dst_ip": "224.0.0.18/32", "action": "permit", "cos": "cs7"},
        {"seq": 110, "protocol": "tcp", "dst_port": "179", "action": "permit", "cos": "cs7"},
        {"seq": 120, "protocol": "udp", "dst_port": "3784-3785", "action": "permit", "cos": "cs7"},
        {"seq": 200, "protocol": "icmp", "action": "permit", "cos": "cs2"},
        {"seq": 300, "protocol": "tcp", "dst_port": "22", "action": "permit", "cos": "cs6"},
        {"seq": 9999, "action": "deny", "log": true}
      ]
    }
  },
  "ipvpns": {
    "customer-vpn": {
      "description": "Customer L3VPN with per-interface VRF",
      "vrf": "Vrf_customer",
      "l3vni": 10001,
      "route_targets": ["65100:1"]
    },
    "server-vpn": {
      "description": "Server/datacenter shared VRF",
      "vrf": "Vrf_server",
      "l3vni": 10100,
      "route_targets": ["65100:100"]
    },
    "tenant-vpn": {
      "description": "Multi-tenant isolated VRF",
      "vrf": "Vrf_tenant",
      "l3vni": 20001,
      "route_targets": ["65100:200"]
    }
  },

  "macvpns": {
    "servers-vlan100": {
      "description": "Server VLAN 100",
      "vlan_id": 100,
      "vni": 10100,
      "anycast_ip": "10.1.100.1/24",
      "anycast_mac": "00:00:00:01:02:03",
      "route_targets": ["100:100"],
      "arp_suppression": true
    },
    "storage-vlan200": {
      "description": "Storage VLAN 200",
      "vlan_id": 200,
      "vni": 10200,
      "anycast_ip": "10.1.200.1/24",
      "anycast_mac": "00:00:00:01:02:03",
      "route_targets": ["200:200"],
      "arp_suppression": true
    },
    "tenant-vlan300": {
      "description": "Tenant VLAN 300",
      "vlan_id": 300,
      "vni": 10300,
      "anycast_ip": "10.1.30.1/24",
      "anycast_mac": "00:00:00:01:02:03",
      "route_targets": ["300:300"],
      "arp_suppression": false
    }
  },

  "services": {
    "customer-l3": {
      "description": "L3 routed customer interface with per-interface VRF",
      "service_type": "evpn-routed",
      "vrf_type": "interface",
      "ipvpn": "customer-vpn",
      "ingress_filter": "customer-edge-in",
      "egress_filter": "customer-edge-out",
      "qos_policy": "4q-customer",
      "permissions": {
        "all": ["neteng"],
        "service.apply": ["neteng", "netops"]
      }
    },
    "server-irb": {
      "description": "Server VLAN with shared VRF for inter-VLAN routing",
      "service_type": "evpn-irb",
      "vrf_type": "shared",
      "ipvpn": "server-vpn",
      "macvpn": "servers-vlan100",
      "qos_policy": "8q-datacenter"
    },
    "storage-irb": {
      "description": "Storage VLAN with shared VRF",
      "service_type": "evpn-irb",
      "vrf_type": "shared",
      "ipvpn": "server-vpn",
      "macvpn": "storage-vlan200",
      "qos_policy": "8q-datacenter"
    },
    "tenant-isolated": {
      "description": "Tenant VLAN with per-interface VRF isolation",
      "service_type": "evpn-irb",
      "vrf_type": "interface",
      "ipvpn": "tenant-vpn",
      "macvpn": "tenant-vlan300"
    },
    "l2-extend": {
      "description": "L2 VLAN extension only (no routing)",
      "service_type": "evpn-bridged",
      "macvpn": "servers-vlan100"
    },
    "transit": {
      "description": "Transit interface (global routing table, no VPN)",
      "service_type": "routed",
      "ingress_filter": "transit-protect",
      "permissions": {
        "all": ["neteng"]
      }
    }
  },

  "qos_policies": {
    "8q-datacenter": {
      "description": "8-queue datacenter policy with ECN on lossless queues",
      "queues": [
        { "name": "best-effort",   "type": "dwrr", "weight": 20, "dscp": [0] },
        { "name": "bulk",          "type": "dwrr", "weight": 15, "dscp": [8, 10, 12, 14] },
        { "name": "transactional", "type": "dwrr", "weight": 15, "dscp": [18, 20, 22] },
        { "name": "lossless",      "type": "dwrr", "weight": 10, "dscp": [3, 4], "ecn": true },
        { "name": "lossless-hi",   "type": "dwrr", "weight": 10, "dscp": [19, 21], "ecn": true },
        { "name": "voice",         "type": "strict",             "dscp": [46] },
        { "name": "signaling",     "type": "dwrr", "weight": 10, "dscp": [24, 26, 48] },
        { "name": "network-ctrl",  "type": "strict",             "dscp": [56] }
      ]
    },
    "4q-customer": {
      "description": "4-queue customer-edge policy",
      "queues": [
        { "name": "best-effort",  "type": "dwrr", "weight": 40, "dscp": [0] },
        { "name": "business",     "type": "dwrr", "weight": 30, "dscp": [10, 12, 14, 18, 20, 22] },
        { "name": "voice",        "type": "strict",             "dscp": [46] },
        { "name": "network-ctrl", "type": "strict",             "dscp": [48, 56] }
      ]
    }
  }
}
