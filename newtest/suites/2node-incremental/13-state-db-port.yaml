name: state-db-port
description: Verify PORT config exists in CONFIG_DB after provisioning
topology: 2node
requires: [provision]

steps:
  # Verify spine1 Ethernet0 exists in CONFIG_DB with admin_status
  - name: verify-port-config-spine1
    action: verify-config-db
    devices: [spine1]
    table: PORT
    key: Ethernet0
    expect:
      fields:
        admin_status: up

  # Verify leaf1 Ethernet0 exists in CONFIG_DB with admin_status
  - name: verify-port-config-leaf1
    action: verify-config-db
    devices: [leaf1]
    table: PORT
    key: Ethernet0
    expect:
      fields:
        admin_status: up
