name: state-db-port
description: Verify PORT config exists in CONFIG_DB after provisioning
topology: 2node
requires: [provision]

steps:
  # Verify switch1 Ethernet0 exists in CONFIG_DB with admin_status
  - name: verify-port-config-switch1
    action: verify-config-db
    devices: [switch1]
    table: PORT
    key: Ethernet0
    expect:
      fields:
        admin_status: up

  # Verify switch2 Ethernet0 exists in CONFIG_DB with admin_status
  - name: verify-port-config-switch2
    action: verify-config-db
    devices: [switch2]
    table: PORT
    key: Ethernet0
    expect:
      fields:
        admin_status: up
