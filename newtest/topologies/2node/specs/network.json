{
  "version": "1.0",
  "description": "2-node topology network specs - underlay + overlay testing",
  "zones": {
    "amer": {}
  },
  "ipvpns": {
    "CUSTOMER": {
      "description": "Customer overlay VRF for inter-subnet routing",
      "vrf": "CUSTOMER",
      "l3vni": 50001,
      "route_targets": ["65000:50001"]
    }
  },
  "macvpns": {
    "overlay-vlan100": {
      "description": "Overlay VLAN 100 - L2 stretch with IRB",
      "vni": 50100,
      "route_targets": ["65000:50100"],
      "arp_suppression": true
    },
    "overlay-vlan200": {
      "description": "Overlay VLAN 200 - IRB",
      "vni": 50200,
      "route_targets": ["65000:50200"],
      "arp_suppression": true
    }
  },
  "services": {
    "transit": {
      "description": "Transit interface (global routing table, no VPN)",
      "service_type": "routed"
    },
    "customer-l3": {
      "description": "L3 routed customer interface with per-interface VRF",
      "service_type": "evpn-routed",
      "vrf_type": "interface",
      "ipvpn": "CUSTOMER"
    }
  },
  "qos_policies": {
    "4q-customer": {
      "description": "4-queue customer-edge policy",
      "queues": [
        { "name": "best-effort",  "type": "dwrr", "weight": 40, "dscp": [0] },
        { "name": "business",     "type": "dwrr", "weight": 30, "dscp": [10, 12, 14, 18, 20, 22] },
        { "name": "voice",        "type": "strict",             "dscp": [46] },
        { "name": "network-ctrl", "type": "strict",             "dscp": [48, 56] }
      ]
    }
  }
}
